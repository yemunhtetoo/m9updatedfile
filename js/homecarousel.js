var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var b=0;return function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var b="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return b?b.call(c):$jscomp.arrayIterator(c)};$jscomp.arrayFromIterator=function(c){for(var b,d=[];!(b=c.next()).done;)d.push(b.value);return d};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};
(function(){var c=window.sg.common.$q,b=function(a){this.els={el:a,containerEl:a.querySelector(".home-kv-carousel__container"),wrapperEl:a.querySelector(".home-kv-carousel__wrapper"),slideEls:a.querySelectorAll(".home-kv-carousel__slide"),indicatorWrapEl:a.querySelector(".home-kv-carousel__indicator-wrap"),indicatorEl:a.querySelector(".indicator"),indicatorControlButtonEl:a.querySelector(".indicator .indicator__controls"),buttonWrapEl:a.querySelector(".home-kv-carousel__btn-wrap"),prevButtonEl:a.querySelector(".home-kv-carousel__btn-prev"),
nextButtonEl:a.querySelector(".home-kv-carousel__btn-next"),popupVideoCtaEls:a.querySelectorAll(".home-kv-carousel__cta--popup-video"),popupVideoEl:a.querySelector(".popup-video"),preRegistrationCtaEls:a.querySelectorAll(".cta[data-pre-registration-src]"),preRegistrationEl:a.querySelector(".pre-registration"),preRegistrationIframeEl:a.querySelector(".pre-registration__iframe"),preRegistrationCloseButtonEl:a.querySelector(".pre-registration__btn-close"),preRegistrationLoopingStartEl:a.querySelector(".pre-registration__looping--start"),
preRegistrationLoopingEndEl:a.querySelector(".pre-registration__looping--end")};this.indicator=window.sg.common.indicator;this.lazyLoad=window.sg.common.lazyLoad;this.video=window.sg.common.video;this.popupVideo=window.sg.common.popupVideo;this.getCurrentDevice=window.sg.common.utils.getCurrentDevice;this.isVisible=window.sg.common.utils.isVisible;this.getCookie=window.sg.common.utils.getCookie;this.isCarouselShow=!1;this.isCarousel=1<this.els.slideEls.length;this.applyCarouselControlEvent=!0;this.focusTargetEl=
{};this.isChangeIndicatorDelay=this.isTouchScreen=!1;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)this.isTouchScreen=!0;this.isCarousel&&(this.swiper={},this.els.indicatorEl&&(this.carouselInfiniteRolling=JSON.parse(this.els.indicatorEl.dataset.indicatorData).infiniteRolling),this.autoplay=!1);this.init()};b.prototype.init=function(){b.instances.has(this.els.el)||(b.instances.set(this.els.el,this),this.isCarousel&&(this.setSwiper(),this.setComponentTextColorForIndicator(),
this.checkSwiperStatus()),this.bindEvents(),this.checkCarouselShow(),this.setCarouselHeight())};b.prototype.setSwiper=function(){this.els.el.classList.add("indicator-container");this.els.containerEl.classList.add("swiper-container");this.els.wrapperEl.classList.add("swiper-wrapper");[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(a){a.classList.add("swiper-slide");a.classList.add("indicator-page");a.querySelector(".home-kv-carousel__background-media-wrap").classList.add("indicator-background")});
this.swiper=new Swiper(this.els.containerEl,{speed:400,loop:this.carouselInfiniteRolling,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".home-kv-carousel__btn-prev",nextEl:".home-kv-carousel__btn-next"}});this.els.slideEls=this.els.el.querySelectorAll(".home-kv-carousel__slide");this.autoplay=!0;this.setAccessibility();this.indicator.reInit(this.els.indicatorEl);this.indicator.setIndicatorDelay(this.els.indicatorEl,0,8E3);this.isChangeIndicatorDelay=!0};b.prototype.setComponentTextColorForIndicator=
function(){var a="";this.els.el.classList.remove("text-color--black");this.els.el.classList.remove("text-color--white");var b=this.swiper.slides[this.swiper.activeIndex].querySelector(".home-kv-carousel__text-wrap");b.classList.contains("text-color--black")?a="text-color--black":b.classList.contains("text-color--white")&&(a="text-color--white");this.els.el.classList.add(a)};b.prototype.checkSwiperStatus=function(){"desktop"===this.getCurrentDevice()?this.carouselInfiniteRolling?(this.els.prevButtonEl.style.display=
"block",this.els.nextButtonEl.style.display="block"):(this.els.prevButtonEl.style.display=this.swiper.isBeginning?"none":"block",this.els.nextButtonEl.style.display=this.swiper.isEnd?"none":"block"):(this.els.prevButtonEl.style.display="none",this.els.nextButtonEl.style.display="none");this.carouselInfiniteRolling||(this.swiper.allowSlidePrev=!this.swiper.isBeginning,this.swiper.allowSlideNext=!this.swiper.isEnd)};b.prototype.setAccessibility=function(){var a=this;[].concat($jscomp.arrayFromIterable(this.swiper.slides)).forEach(function(b,
c){c===a.swiper.activeIndex?[].concat($jscomp.arrayFromIterable(b.querySelectorAll(".cta"))).forEach(function(a){a.removeAttribute("tabindex");a.removeAttribute("aria-hidden")}):[].concat($jscomp.arrayFromIterable(b.querySelectorAll(".cta"))).forEach(function(a){a.setAttribute("tabindex","-1");a.setAttribute("aria-hidden","true")})})};b.prototype.checkCarouselShow=function(){this.isVisible(this.els.el)&&!this.isCarouselShow?(this.isCarouselShow=!0,this.isCarousel?window.sg.common.lazyLoad.setLazyLoadManually(this.swiper.slides[this.swiper.activeIndex]):
window.sg.common.lazyLoad.setLazyLoadManually(this.els.slideEls[0]),this.playCarousel()):!this.isVisible(this.els.el)&&this.isCarouselShow&&(this.isCarouselShow=!1,this.pauseCarousel())};b.prototype.pauseCarousel=function(){if(this.applyCarouselControlEvent)if(this.isCarousel)this.autoplay&&this.indicator.pause(this.els.indicatorEl);else{var a=this.els.slideEls[0].querySelector(".video video");a&&a.pause()}};b.prototype.playCarousel=function(){if(this.applyCarouselControlEvent)if(this.isCarousel)this.autoplay&&
this.indicator.play(this.els.indicatorEl);else{var a=this.els.slideEls[0].querySelector(".video video");a&&!a.ended&&a.play()}};b.prototype.bindEvents=function(){var a=this;[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(b){var c=b.querySelector(".home-kv-carousel__slide-inner");c.addEventListener("mouseenter",function(){a.isTouchScreen||a.pauseCarousel()});c.addEventListener("mouseleave",function(){a.isTouchScreen||a.playCarousel()});[].concat($jscomp.arrayFromIterable(b.querySelectorAll(".cta"))).forEach(function(b){b.addEventListener("focus",
function(){a.pauseCarousel()});b.addEventListener("focusout",function(){a.playCarousel()})});var e=c.querySelector(".home-kv-carousel__cta--layer-video");if(e){var d=c.querySelector(".home-kv-carousel__layer-video"),f=d.querySelector(".video");b=d.querySelector(".home-kv-carousel__btn-video-close");e.addEventListener("click",function(b){a.els.buttonWrapEl.style.display="none";a.els.indicatorWrapEl.style.display="none";d.style.display="block";a.video.init(f);a.applyCarouselControlEvent=!1;b.preventDefault()});
b.addEventListener("click",function(){a.video.dispose(f);d.removeAttribute("style");a.els.buttonWrapEl.removeAttribute("style");a.els.indicatorWrapEl.removeAttribute("style");a.applyCarouselControlEvent=!0;e.focus()})}});this.isCarousel&&(this.els.indicatorEl.addEventListener("indicatorMove",function(b){a.swiper.slideToLoop(b.detail)}),this.els.indicatorControlButtonEl.addEventListener("click",function(){a.autoplay=!a.autoplay}),this.swiper.on("slideChange",function(){a.applyCarouselControlEvent=
!1;a.swiper.slideToLoop(a.swiper.realIndex);a.lazyLoad.setLazyLoadManually(a.swiper.slides[a.swiper.activeIndex]);a.setComponentTextColorForIndicator();a.checkSwiperStatus();a.setAccessibility();a.isChangeIndicatorDelay&&(a.indicator.setIndicatorDelay(a.els.indicatorEl,0,5E3),a.isChangeIndicatorDelay=!1);a.indicator.move(a.els.indicatorEl,a.swiper.realIndex)}),this.swiper.on("slideChangeTransitionEnd",function(){a.applyCarouselControlEvent=!0;(a.swiper.slides[a.swiper.activeIndex].querySelector(".home-kv-carousel__slide-inner").matches?
a.swiper.slides[a.swiper.activeIndex].querySelector(".home-kv-carousel__slide-inner").matches(":hover"):a.swiper.slides[a.swiper.activeIndex].querySelector(".home-kv-carousel__slide-inner").msMatchesSelector(":hover"))&&!a.isTouchScreen&&a.pauseCarousel()}),this.swiper.on("resize",function(){a.checkSwiperStatus()}));[].concat($jscomp.arrayFromIterable(this.els.popupVideoCtaEls)).forEach(function(b,c){b.addEventListener("click",function(){a.applyCarouselControlEvent=!1;a.popupVideo.open(a.els.popupVideoEl,
c,b)})});this.els.popupVideoEl&&this.els.popupVideoEl.addEventListener("popupVideoClose",function(){a.applyCarouselControlEvent=!0});[].concat($jscomp.arrayFromIterable(this.els.preRegistrationCtaEls)).forEach(function(b){b.addEventListener("click",function(){a.applyCarouselControlEvent=!1;document.body.style.overflow="hidden";a.els.preRegistrationEl.classList.add("pre-registration--show");a.els.preRegistrationIframeEl.focus();a.els.preRegistrationIframeEl.setAttribute("src",b.dataset.preRegistrationSrc);
a.focusTargetEl=b})});this.els.preRegistrationCloseButtonEl&&this.els.preRegistrationCloseButtonEl.addEventListener("click",function(){a.els.preRegistrationIframeEl.removeAttribute("src");a.els.preRegistrationEl.classList.remove("pre-registration--show");document.body.removeAttribute("style");a.focusTargetEl instanceof Element&&a.focusTargetEl.focus();a.focusTargetEl={};a.applyCarouselControlEvent=!0});this.els.preRegistrationLoopingStartEl&&this.els.preRegistrationLoopingStartEl.addEventListener("focus",
function(){a.els.preRegistrationCloseButtonEl.focus()});this.els.preRegistrationLoopingEndEl&&this.els.preRegistrationLoopingEndEl.addEventListener("focus",function(){a.els.preRegistrationIframeEl.focus()});document.addEventListener("scroll",function(){a.checkCarouselShow()});window.addEventListener("resize",function(){a.applyCarouselControlEvent&&a.checkCarouselShow();a.setCarouselHeight()});window.addEventListener("orientationchange",function(){a.applyCarouselControlEvent&&a.checkCarouselShow()})};
b.prototype.setCarouselHeight=function(){if(1440>this.els.el.offsetWidth){var a=0;"desktop"===this.getCurrentDevice()?this.els.el.classList.contains("home-kv-carousel--height-large")?a=810*this.els.el.offsetWidth/1440:this.els.el.classList.contains("home-kv-carousel--height-medium")?a=640*this.els.el.offsetWidth/1440:this.els.el.classList.contains("home-kv-carousel--height-smedium")?a=344*this.els.el.offsetWidth/1440:this.els.el.classList.contains("home-kv-carousel--height-small")&&(a=320*this.els.el.offsetWidth/
1440):"mobile"===this.getCurrentDevice()&&(this.els.el.classList.contains("home-kv-carousel--height-large")?a=640*this.els.el.offsetWidth/360:this.els.el.classList.contains("home-kv-carousel--height-medium")?a=540*this.els.el.offsetWidth/360:this.els.el.classList.contains("home-kv-carousel--height-smedium")?a=400*this.els.el.offsetWidth/360:this.els.el.classList.contains("home-kv-carousel--height-small")&&(a=320*this.els.el.offsetWidth/360));[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(b){b.querySelector(".home-kv-carousel__slide-inner").style.height=
a+"px"})}else[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(a){a.querySelector(".home-kv-carousel__slide-inner").removeAttribute("style")})};b.prototype.playCustomVideo=function(){this.els.buttonWrapEl.style.display="none";this.els.indicatorWrapEl.style.display="none";this.applyCarouselControlEvent=!1};b.prototype.stopCustomVideo=function(){this.els.buttonWrapEl.removeAttribute("style");this.els.indicatorWrapEl.removeAttribute("style");this.applyCarouselControlEvent=!0;this.els.el.querySelector(".home-kv-carousel__slide--teasing .cta").focus()};
b.instances=new WeakMap;var d={initAll:function(){[].concat($jscomp.arrayFromIterable(document.querySelectorAll(".home-kv-carousel"))).forEach(function(a){b.instances.has(a)||new b(a)})},playCustomVideo:function(){b.instances.get(document.querySelector(".home-kv-carousel")).playCustomVideo()},stopCustomVideo:function(){b.instances.get(document.querySelector(".home-kv-carousel")).stopCustomVideo()}};window.sg.components.homeKvCarousel=d;c.ready(function(){return d.initAll()})})();